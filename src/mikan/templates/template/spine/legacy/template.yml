desc: legacy spine from ttRig3
help: https://citrus-software.github.io/mikan-docs/references/tpl/spine/legacy

ui:
  icon: hips
  hooks:
    default: tip
    pelvis: hips
    torso: tip
    root: root

name: spine

guide:
  joint: on

structure:
  root: .
  chain: /*
  hips:
  spine1: /1
  spine2: /2
  tip: /-1
  mid: spine1+spine2

names:
  spine: spine
  cog: cog
  pelvis: pelvis
  hip: hip
  shoulder: shoulder

opts:
  group:
    value: body
  sym:
    value: x

  bones:
    help: Number of skin joints to create.
    value: 6
  bones_length:
    help: |
      Distribution mode for skin joints.
       - parametric: Evenly spaced along the spline parameter.
       - cvs: Based on FK controller CV positions.
       - equal: Joints evenly spaced by length.
    value: 2
    enum:
      0: parametric
      1: cvs
      2: equal

  orient_spine:
    help: Automatically orients the FK spine controllers.
    value: off
  orient_pelvis:
    help: Automatically orients the pelvis controllers.
    value: off
  orient_shoulders:
    help: Automatically orients the shoulder controllers.
    value: off
  pivots:
    help: |
      Position of the pelvis IK controller pivot.
       - legacy: At the root position.
       - spine1: At the first FK spine controller.
       - centered: Between the two middle FK spine controllers.
    value: 0
    enum:
      0: legacy
      1: spine1
      2: centered

  default_stretch:
    help: Enables stretch behavior by default.
    value: on
  stretch_mode:
    help: |
      IK spline stretch application mode.
       - scale: Scales joints along the curve.
       - translate: Translates joints along the curve.
    value: 1
    enum:
      0: scale
      1: translate
  curvature:
    help: Default curvature strength between the bottom and top of the spine.
    value: 0.5
    min: 0
    max: 1


shapes:
  ctrls.cog:
    parent: root
    shape: circle
    color: yellow
    size: 4

  ctrls.spine1:
    parent: spine1
    shape: circle
    color: khaki
    size: 3
    do_aim:
      orient_spine: on
    aim: spine2

  ctrls.spine2:
    parent: spine2
    shape: circle
    color: khaki
    size: 3
    do_aim:
      orient_spine: on
    aim: tip

  ctrls.pelvisIK:
    parent: root
    shape: rhombus
    color: yellow
    size: 3.5
    aim: y

  ctrls.spineIK:
    parent: tip
    shape: rhombus
    color: yellow
    size: 3.5
    aim: y

  ctrls.spine_mid:
    parent: mid
    shape: cross
    color: saddlebrown
    size: 3.5
    aim: spine2

  ctrls.pelvis:
    parent: root
    shape: cross
    color: saddlebrown
    size: 3.5
    aim: hips


hierarchy:
  ctrls.cog:
    root: on
  ctrls.spine1:
    parent: ctrls.cog
    hook: .
  ctrls.spine2:
    parent: ctrls.spine1
    hook: spine2
  ctrls.spineIK:
    parent: ctrls.spine2
    hook: tip
  ctrls.pelvisIK:
    root: on
    hook: hips

  skin.pelvis:
    root: on
    hook:
      - root
      - hips
  skin.0:
    parent: skin.pelvis
  skin.chain:
    chain: on
    hook: chain
  skin.tip:
    hook: tip
